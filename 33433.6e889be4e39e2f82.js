"use strict";(self.webpackChunkoracle=self.webpackChunkoracle||[]).push([[33433],{33433:(f,l,n)=>{n.r(l),n.d(l,{rux_pop_up:()=>c});var o=n(10467),i=n(54452),r=n(73062);const c=(()=>{let d=class{constructor(t){(0,i.r)(this,t),this.ruxPopUpOpened=(0,i.c)(this,"ruxpopupopened",7),this.ruxPopUpClosed=(0,i.c)(this,"ruxpopupclosed",7),this._assignedOutsideClickEvent=!1,this.open=!1,this.placement="auto",this.disableAutoUpdate=!1,this.enableAnimationFrame=!1,this.strategy="absolute",this.closeOnSelect=!1,this.arrowPosition=void 0}handleOpen(){this.open?(this.content.style.display="block",this._startPositioner(),this.ruxPopUpOpened.emit(),this._assignedOutsideClickEvent||(window.addEventListener("mousedown",this._handleOutsideClick),this._assignedOutsideClickEvent=!0)):(this.content.style.display="",this._stopPositioner(),this.ruxPopUpClosed.emit(),this._assignedOutsideClickEvent&&(window.removeEventListener("mousedown",this._handleOutsideClick),this._assignedOutsideClickEvent=!1))}show(){var t=this;return(0,o.A)(function*(){return t.open||(t.open=!0),t.open})()}hide(){var t=this;return(0,o.A)(function*(){return t.open?(t.open=!1,t.open):t.open})()}connectedCallback(){this._handleTriggerClick=this._handleTriggerClick.bind(this),this._handleTriggerKeyPress=this._handleTriggerKeyPress.bind(this),this._handleOutsideClick=this._handleOutsideClick.bind(this),this._setTriggerTabIndex=this._setTriggerTabIndex.bind(this),this.open&&!this._assignedOutsideClickEvent&&(window.addEventListener("mousedown",this._handleOutsideClick),this._assignedOutsideClickEvent=!0)}componentWillLoad(){this._setTriggerTabIndex()}componentDidRender(){this.open&&this._startPositioner()}_handleTriggerClick(t){var e=this;return(0,o.A)(function*(){t.detail>0&&(e.open=!e.open)})()}_handleTriggerKeyPress(t){var e=this;return(0,o.A)(function*(){"Enter"===t.key&&(e.open=!e.open)})()}_position(){this.open&&this.triggerSlot&&this.content&&((0,r.c)(this.triggerSlot,this.content,{placement:this.placement,strategy:this.strategy,middleware:(()=>this.disableAutoUpdate?"auto"===this.placement?(this.placement="top",[(0,r.o)(12),(0,r.d)({element:this.arrowEl})]):[(0,r.o)(12),(0,r.d)({element:this.arrowEl})]:[(0,r.o)(12),"auto"===this.placement?(0,r.b)({alignment:"start"}):(0,r.f)(),(0,r.d)({element:this.arrowEl})])()}).then(({x:e,y:s,placement:a,middlewareData:g})=>{Object.assign(this.content.style,{left:`${e}px`,top:`${s}px`,position:`${this.strategy}`});const{x:p,y:u}=g.arrow,_={top:"bottom",right:"left",bottom:"top",left:"right"}[a.split("-")[0]];Object.assign(this.arrowEl.style,{left:null!=p?`${p}px`:"",top:null!=u?`${u}px`:"",right:"",bottom:"",[_]:"-6px"})}),this._setArrowPosition())}_setTriggerTabIndex(){const t=this.el.querySelector("[slot='trigger']");t&&(t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"))}_startPositioner(){this._stopPositioner(),this.open&&(this._position(),this._positionerCleanup=(0,r.a)(this.triggerSlot,this.content,this._position.bind(this),{animationFrame:this.enableAnimationFrame}))}_setArrowPosition(){var t=this;return(0,o.A)(function*(){const e=yield t._determineArrowPosition();t.arrowPosition!==e&&(t.arrowPosition=e)})()}_determineArrowPosition(){var t=this;return(0,o.A)(function*(){if(!t.open)return;const e=yield t.getTriggerRect(),s=yield t.getArrowRect();return e.bottom>s.bottom&&e.top<s.top?e.right>s.right?"left":"right":e.bottom>s.bottom?"top":"bottom"})()}getTriggerRect(){var t=this;return(0,o.A)(function*(){return t.triggerSlot.getBoundingClientRect()})()}getArrowRect(){var t=this;return(0,o.A)(function*(){var e;return null===(e=t.arrowEl)||void 0===e?void 0:e.getBoundingClientRect()})()}_stopPositioner(){this._positionerCleanup&&(this._positionerCleanup(),this._positionerCleanup=void 0)}_handleOutsideClick(t){const e=t.composedPath().includes(this.contentSlot),s=t.composedPath().includes(this.triggerSlot),a=t.composedPath().includes(this.el);!e&&!s&&!a&&(this.open=!1)}handleSelection(){this.closeOnSelect&&(this.open=!1)}get contentSlot(){var t;return null===(t=this.content)||void 0===t?void 0:t.querySelector("slot").assignedElements({flatten:!0})[0]}get triggerSlot(){var t;return null===(t=this.trigger)||void 0===t?void 0:t.querySelector("slot").assignedElements({flatten:!0})[0]}get hasMenu(){var t;return!(null===(t=this.content)||void 0===t||!t.querySelector("slot").assignedElements({flatten:!0}).filter(e=>"rux-menu"===e.tagName.toLowerCase())[0])}render(){return(0,i.h)(i.H,null,(0,i.h)("div",{class:"rux-popup",part:"container"},(0,i.h)("div",{onClick:this._handleTriggerClick,onKeyPress:this._handleTriggerKeyPress,class:"rux-popup__trigger",ref:t=>this.trigger=t,part:"trigger-container"},(0,i.h)("slot",{name:"trigger"})),(0,i.h)("div",{class:{"rux-popup__arrow-left":"left"===this.arrowPosition,"rux-popup__arrow-top":"top"===this.arrowPosition,"rux-popup__arrow-right":"right"===this.arrowPosition,"rux-popup__arrow-bottom":"bottom"===this.arrowPosition,"rux-popup__content":!0,"rux-popup__content--menu":this.hasMenu,hidden:!1===this.open},"aria-hidden":this.open?"false":"true",part:"popup-content",ref:t=>this.content=t},(0,i.h)("div",{class:"rux-popup-arrow",ref:t=>this.arrowEl=t,part:"arrow"}),(0,i.h)("slot",null))))}get el(){return(0,i.g)(this)}static get watchers(){return{open:["handleOpen"]}}};return d.style=":host{display:block;width:min-content}.hidden,:host([hidden]){display:none}.hidden{display:none !important}::slotted(*[slot=trigger]){cursor:pointer}::slotted(*[slot=trigger]:focus-visible){border-radius:var(--radius-base, 3px);outline:var(--border-width-focus-default, 1px) solid var(--color-border-focus-default, #da9ce7);outline-offset:var(--spacing-focus-default, 0.125rem)}.rux-popup{font-family:var(--font-body-1-font-family, 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif);font-size:var(--font-body-1-font-size, 1rem);font-weight:var(--font-body-1-font-weight, 400);letter-spacing:var(--font-body-1-letter-spacing, 0.005em);line-height:var(--line-height-base, 1.5rem);text-align:left}.rux-popup__content{position:absolute;padding:var(--spacing-0, 0rem);border-radius:var(--radius-base, 3px);background:var(--color-background-base-default, #101923);border:1px solid var(--color-border-interactive-muted, #2b659b);transform-style:preserve-3d;z-index:100}.rux-popup__trigger{display:contents}.rux-popup__content--menu{padding:0}.rux-popup__arrow-left{border-right:2px solid var(--color-border-interactive-muted, #2b659b)}.rux-popup__arrow-top{border-bottom:2px solid var(--color-border-interactive-muted, #2b659b)}.rux-popup__arrow-right{border-left:2px solid var(--color-border-interactive-muted, #2b659b)}.rux-popup__arrow-bottom{border-top:2px solid var(--color-border-interactive-muted, #2b659b)}.rux-popup-arrow{position:absolute;background:var(--color-border-interactive-muted, #2b659b);width:var(--spacing-4, 1rem);height:var(--spacing-4, 1rem);transform:translateZ(-1px) rotate(45deg)}",d})()}}]);